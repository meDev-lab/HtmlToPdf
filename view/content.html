<section class="section-cabinet">
  <div class="container">
    <div class="cabinet">
      <div class="cabinet__head">
        <h1>Петров Иван Иванович</h1>

        <img src="img/logo.svg" alt="logo-icon" />
      </div>
      <!-- cabinet__head -->

      <div class="cabinet__info">
        <div class="cabinet__info-data">
          <h2>Дневник волчанки</h2>
          <span>1 апреля – 7 апреля</span>
        </div>
        <!-- cabinet__info-data -->

        <div class="cabinet__info-sponsor">
          При поддержке компании «АстраЗенека»
        </div>
        <!-- cabinet__info-sponsor -->
      </div>
      <!-- cabinet__info -->

      <div class="cabinet__content" data-data=<%- data %> id="hui">
        <div class="cabinet__content-item">
          <h2>Тяжесть симптомов</h2>
          <!-- graph -->
          <div class="graph">
            <canvas id="simptiomChart1" width="500" height="200"></canvas>
            <script>
              var ctxOne = document.getElementById("simptiomChart1");
              var arrEmogyOne = [
                "\uf59a",
                "\uf118",
                "\uf11a",
                "\uf119",
                "\uf5c8",
              ];
              var labelsArrOne = [
                ["Пн", "01"],
                ["Вт", "02"],
                ["Ср", "03"],
                ["Чт", "04"],
                ["Пт", "05"],
                ["Сб", "06"],
                ["Вс", "07"],
              ];

              material_font.load().then(() => {
               
                var myChartOne = new Chart(ctxOne, {
                  type: "line",
                  data: {
                    labels: labelsArrOne,
                    datasets: [
                      {
                        label: "Недельный график",
                        data: JSON.parse(document.getElementById('hui').dataset.data),
                        borderColor: "#0684F8",
                        backgroundColor: "transparent",
                        pointBackgroundColor: "white",
                      },
                    ],
                  },
                  options: {
                    animation: {
                      duration: 0, // general animation time
                    },
                    hover: {
                      animationDuration: 0, // duration of animations when hovering an item
                    },
                    responsiveAnimationDuration: 0,
                    scales: {
                      y: {
                        ticks: {
                          font: {
                            family: "material-icons",
                            size: "15",
                          },
                          stepSize: 1,
                          color: [
                            "#50B94A",
                            "#B3D537",
                            "#FFF102",
                            "#F7941C",
                            "#ED1B24",
                          ],

                          callback: function (value, index, values) {
                            return arrEmogyOne[index];
                          },
                        },
                      },
                      x: {
                        gridLines: {
                          display: false,
                          lineWidth: 1,
                          zeroLineWidth: 1,
                          zeroLineColor: "red",
                          drawTicks: false,
                        },
                        ticks: {
                          display: true,
                          stepSize: 0,
                          min: 0,
                          autoSkip: false,
                          fontSize: 11,
                          // callback: function (value, index, values) {
                          // 	// return (<img src="img/red.svg" alt="logo-icon" />)
                          // 	return `${value} \n   $`;
                          // 	// return arrEmogy[index]
                          // }
                        },
                      },
                    },
                    plugins: {
                      legend: {
                        display: false,
                      },
                    },
                  },
                });
              });
            </script>
          </div>
          <!-- graph -->
        </div>
        <!-- cabinet__content-item -->

        <div class="cabinet__content-item">
          <h2>Симптом 1</h2>

          <table>
            <thead>
              <tr>
                <th>Дата</th>
                <th>Время</th>
                <th>Тяжесть</th>
                <th>Причина</th>
                <th>Примечание</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>07.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>06.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>05.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>04.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>03.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>02.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>01.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- cabinet__content-item -->

        <div class="cabinet__content-item">
          <h2>Симптом 2</h2>

          <table>
            <thead>
              <tr>
                <th>Дата</th>
                <th>Время</th>
                <th>Тяжесть</th>
                <th>Причина</th>
                <th>Примечание</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>01.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>01.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>01.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>01.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>01.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>01.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>

              <tr>
                <td>01.01.2021</td>
                <td>10:35</td>
                <td>Сильно</td>
                <td>Стресс</td>
                <td>Стало лучше</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- cabinet__content-item -->

        <div class="cabinet__content-item">
          <h2>Влияние болезни на жизнь</h2>

          <div class="graph">
            <canvas id="simptiomChart2" width="500" height="200"></canvas>
            <script>
              var ctxTwo = document.getElementById("simptiomChart2");
              var arrEmogyTwo = [
                "\uf59a",
                "\uf118",
                "\uf11a",
                "\uf119",
                "\uf5c8",
              ];
              var labelsArrTwo = [
                1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
                19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
              ];

              material_font.load().then(() => {
                var myChartTwo = new Chart(ctxTwo, {
                  type: "line",
                  data: {
                    labels: labelsArrTwo,
                    datasets: [
                      {
                        label: "Месячный график",
                        data: [
                          1, 4, 5, 3, 1, 4, 2, 1, 5, 3, 1, 2, 5, 4, 1, 3, 4, 5,
                          2, 3, 4, 1, 5, 2, 3, 2, 2, 2, 1, 2,
                        ],
                        borderColor: "#0684F8",
                        backgroundColor: "transparent",
                        pointBackgroundColor: "white",
                      },
                    ],
                  },
                  options: {
                    animation: { duration: 0 },
                    hover: { animationDuration: 0 },
                    responsiveAnimationDuration: 0,
                    scales: {
                      y: {
                        ticks: {
                          font: {
                            family: "material-icons",
                            size: "15",
                          },
                          stepSize: 1,
                          color: [
                            "#50B94A",
                            "#B3D537",
                            "#FFF102",
                            "#F7941C",
                            "#ED1B24",
                          ],
                          callback: (value, index, values) => {
                            return arrEmogyTwo[index];
                          },
                        },
                      },
                      x: {
                        ticks: {
                          // stepSize: 0.5,
                          callback: (value, index, values) => {
                            return (labelsArrTwo[index] - 8) % 7 == 0
                              ? labelsArrTwo[index]
                              : null;
                          },
                        },
                      },
                    },
                    plugins: {
                      legend: {
                        display: false,
                      },
                    },
                  },
                });
              });
            </script>
          </div>
          <!-- graph -->

          <table style="margin-top: 30px">
            <thead>
              <tr>
                <th>Дата</th>
                <th>Время</th>
                <th>Влияние</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>07.01.2021</td>
                <td>10:35</td>
                <td>Немного</td>
              </tr>

              <tr>
                <td>06.01.2021</td>
                <td>10:35</td>
                <td>Немного</td>
              </tr>

              <tr>
                <td>05.01.2021</td>
                <td>10:35</td>
                <td>Немного</td>
              </tr>

              <tr>
                <td>04.01.2021</td>
                <td>10:35</td>
                <td>Немного</td>
              </tr>

              <tr>
                <td>03.01.2021</td>
                <td>10:35</td>
                <td>Немного</td>
              </tr>

              <tr>
                <td>02.01.2021</td>
                <td>10:35</td>
                <td>Немного</td>
              </tr>

              <tr>
                <td>01.01.2021</td>
                <td>10:35</td>
                <td>Немного</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- cabinet__content-item -->
      </div>
      <!-- cabinet__content -->

      <div class="cabinet__footer">
        <span>2</span>
      </div>
      <!-- cabinet__footer -->
    </div>
  </div>
</section>
